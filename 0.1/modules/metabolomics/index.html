<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Metabolomics - Meta-Omics-Toolkit</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
        <link href="../../css/version-select.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Meta-Omics-Toolkit</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="navitem">
                                <a href="../../pipeline_configuration/" class="nav-link">Global Pipeline Configuration Settings</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Modules <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../qualityControl/" class="dropdown-item">Quality Control</a>
</li>
                                    
<li>
    <a href="../annotation/" class="dropdown-item">Annotation</a>
</li>
                                    
<li>
    <a href="../assembly/" class="dropdown-item">Assembly</a>
</li>
                                    
<li>
    <a href="../cooccurrence/" class="dropdown-item">Cooccurrence</a>
</li>
                                    
<li>
    <a href="../dereplication/" class="dropdown-item">Dereplication</a>
</li>
                                    
<li>
    <a href="../fragment_recruitment/" class="dropdown-item">Run Fragment Recruitment</a>
</li>
                                    
<li>
    <a href="../magAttributes/" class="dropdown-item">MagAttributes</a>
</li>
                                    
<li>
    <a href="../plasmids/" class="dropdown-item">Plasmids</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">Metabolomics</a>
</li>
                                    
<li>
    <a href="../readMapping/" class="dropdown-item">Read Mapping</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Developer <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../developer_guidelines/" class="dropdown-item">Guidelines</a>
</li>
                                    
<li>
    <a href="../../pipeline_specification/" class="dropdown-item">Pipeline Specification</a>
</li>
                                    
<li>
    <a href="../../module_specification/" class="dropdown-item">Module Specification</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../plasmids/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../readMapping/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#metabolomics" class="nav-link">Metabolomics</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#input" class="nav-link">Input</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#output" class="nav-link">Output</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="metabolomics">Metabolomics</h1>
<p>The metabolomics module runs genome scale metabolic modeling analysis based on a supplied genome or directly on its proteins.
The module is able to use gapseq and carveme for analysing genomes and carveme for analysing predicted proteins
which depends on the configuration you provide as input.</p>
<p><strong>Note:</strong> If carvem is specificed in fullPipeline mode then carveme is executed with proteins as input.</p>
<p>All generated models are used for further downstream analysis such as the "Minimum Resource Overlap" computation by smetana.</p>
<h2 id="input">Input</h2>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Command</label><label for="__tabbed_1_2">Configuration file for providing genomes</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>-entry wMetabolomics -params-file example_params/metabolomics
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>
</code></pre></div>
</div>
</div>
</div>
<p>Almost all tools of this module are using linear programming solvers. The tool developers are recommending the use of the cplex solver
that is included in the <a href="https://www.ibm.com/de-de/products/ilog-cplex-optimization-studio">IBM ILOG CPLEX Optimization Studio</a> which is free for students and academics
through the IBM Academic Initiative programm. 
Since the toolkit uses docker images that are downloaded from public Docker Hub repositories and the cplex license is not allowed
to be distributed, we prepared a <a href="../cplex/docker/Dockerfile">Dockerfile</a> that allows you to build your own local docker image with all metabolomics specific tools installed.
Just copy your cplex binary to the cplex docker folder and build your own docker image. You can override all existing images via the command line.</p>
<p>In the following example your the image name is metabolomics:0.1.0:</p>
<ul>
<li><code>--gapseq_image=metabolomics:0.1.0</code> (Optional)</li>
<li><code>--smetana_image=metabolomics:0.1.0</code> (Required)</li>
<li><code>--carveme_image=metabolomics:0.1.0</code> (Optional. Carveme is not able to detect the solver automatically. Please specify <code>--solver</code> in the configuration file if you want to use the scip solver.)</li>
<li><code>--memote_image=metabolomics:0.1.0</code> (Optional. Memote is not able to detect the solver automatically. Please specify <code>--solver</code> in the configuration file if you are not using the glpk solver.)</li>
</ul>
<p>For gapseq and memote we are using a publicly available docker image that uses the freely available glkp solver which means that you don't have to provide this parameter.
If you want to build your own image, please use the <code>beforeProcessScript</code> parameter. This parameter expects a bash script that accepts the docker image name as a parameter.
The script is executed right before the actual docker image is started. 
You could for example provide a script that builds the actual image right before running the tool on the VM. 
It would be also possible to push the docker image to a private dockerhub repository and login to your docker account via this script.
We provide two example template scripts in the cplex folder.
Please note that in both cases you distribute the docker image with your cplex binary on all machines where you run the toolkit.
If you login to dockerhub then your credentials will saved on the VM. If you are not the only docker user on the machine we do not recommend this approach! </p>
<h2 id="output">Output</h2>
<h3 id="gapseq-carveme">GapSeq / CarveMe</h3>
<p>Both tools are generating genome scale metabolic reconstruction models (<code>*.xml</code>). 
All models are translated to json format and substrats, products and reactions are saved in distinct files.</p>
<h3 id="memote">Memote</h3>
<p>Memote tests metabolic reconstruction models and therefore produces a machine readable json file  (<code>*_report.json.gz</code>)
and a human readable tsv (<code>*_metrics.tsv</code>) and html (<code>*_report.html</code>) file.</p>
<h3 id="smetana">Smetana</h3>
<p>Smetana is used for analysing possible interactions in microbial communities. Smetana<code>s global and detailed modes 
are executed per sample. The Smetana output is saved in</code><em>_detailed.tsv<code>and</code></em>_global.tsv`.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/jquery-3.6.0.min.js"></script>
        <script src="../../js/bootstrap.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>
        <script src="../../js/version-select.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
